<ion-view view-title="{{'TITTLE_NOTIFICATIONS' | translate}}" cache-view="true">

<ion-nav-bar class="bar-assertive nav-title-slide-ios7" align-title="center">
    <ion-nav-buttons side="left">        
      <div class="bubble" style="width: {{width_bubble}}px; top: {{top_bubble}}px;">{{num_notifications}}</div>
      </ion-nav-buttons>

    <ion-nav-buttons side="right">
        <button class="button ion-trash-b customButtonIcon" ng-click="archiveNotifications()">            
        </button>&nbsp;
        <button class="button ion-ios-refresh customButtonIcon" ng-click="doRefresh()">            
        </button>
    </ion-nav-buttons>
</ion-nav-bar>

      <div class="bar bar-subheader item-input-inset bar-light">
        <label class="item-input-wrapper">
          <i class="icon ion-search placeholder-icon"></i>
          <input type="search" ng-model="busqueda" placeholder="Buscar">
        </label>
        <button class="button button-clear button-stable ion-close-circled" ng-model="busquedaCategory" ng-click="filterCategory('')"></button>
      </div>

      <!--div class="bar bar-subheader item-input-inset bar-light">
        <label class="item-input-wrapper">
          <i class="icon ion-search placeholder-icon"></i>
          <input type="search" ng-model="busqueda2" placeholder="Buscar">
        </label>
        <button class="button button-clear button-stable ion-chevron-down">
      </div-->

<ion-content class="has-subheader" ng-controller="DevicesCtrl">

    <ion-refresher pulling-text="Tirar para refrescar..." on-refresh="doRefresh()"> </ion-refresher>

    <!--ion-list can-swipe="true" show-delete="false"-->
    <!--ion-list can-swipe="true" show-delete="false" type="list-inset"-->
    <ion-list can-swipe="true" show-delete="false">
  
  <ion-item class="leyend">
  <div class="row">

  <button class="col leyendCol text-center leyendCategoryEvent0" ng-model="busquedaCategory" ng-click="filterCategory('basicas')">Básicas</button>
  <button class="col leyendCol text-center leyendCategoryEvent1" ng-model="busquedaCategory" ng-click="filterCategory('seguridad')">Seguridad</button>
  <button class="col leyendCol text-center leyendCategoryEvent2" ng-model="busquedaCategory" ng-click="filterCategory('geofencing')">Geofencing</button>
  <button class="col leyendCol text-center leyendCategoryEvent3" ng-model="busquedaCategory" ng-click="filterCategory('conduccion')">Conducción</button>
  <button class="col leyendCol text-center leyendCategoryEvent4" ng-model="busquedaCategory" ng-click="filterCategory('otras')">Otras</button>
  </div>
  </ion-item> 

      <ion-item class="item-remove-animate item-avatar item-icon-right"  
        ng-repeat="notification in notifications | filter: busqueda | filter: busquedaCategory" type="item-text-wrap" href="#/tab/notifications/{{notification.id}}">



        <!--img ng-src="{{notification.icon}}"-->
        <div class="iconNotification" ng-bind-html="trustedHtmlIcon[notification.id]"></div>
        <h2>{{notification.vehicleLicense}}</h2>
        <p>{{notification.name}}</p>
        <p>{{notification.date}}</p>


        <!--i class="icon ion-chevron-right icon-accessory"></i-->

        <i class="icon ion-ios-arrow-right icon-accessory categoryEvent{{notification.category}}"></i>

        <ion-option-button class="button-assertive" ng-click="remove(notification)">
          Archivar
        </ion-option-button>

      </ion-item>

  

    </ion-list>




  </ion-content>
</ion-view>
